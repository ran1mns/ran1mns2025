<section class="course">
  <h1>Titre du Cours : Les Fonctions en JavaScript</h1>
  <article class="introduction">
    <h2>Introduction</h2>
    <p>Les fonctions sont l'un des piliers du JavaScript. Ce sont des blocs de code réutilisables qui permettent d'organiser le code, de le rendre plus modulaire et plus facile à maintenir. Ce cours couvre tout ce que vous devez savoir pour maîtriser les fonctions, des bases à des concepts plus avancés.</p>
  </article>

  <article class="concepts">
    <h2>1. Déclarer et Appeler des Fonctions</h2>
    <h3>Déclaration de Fonction</h3>
    <p>La manière la plus classique de créer une fonction est la déclaration de fonction.</p>
    <pre><code class="language-js">
// Déclaration de la fonction
function direBonjour() {
  console.log("Bonjour !");
}

// Appel de la fonction
direBonjour(); // Affiche "Bonjour !"
    </code></pre>

    <h2>2. Paramètres et Arguments</h2>
    <p>Les fonctions peuvent accepter des données en entrée, appelées <strong>paramètres</strong>. Lorsque vous appelez la fonction, les valeurs que vous lui passez sont des <strong>arguments</strong>.</p>
    <pre><code class="language-js">
function saluer(nom) { // 'nom' est un paramètre
  console.log(`Bonjour, ${nom} !`);
}

saluer("Edwin"); // "Edwin" est un argument
    </code></pre>
    <h3>Paramètres par Défaut</h3>
    <p>Vous pouvez assigner une valeur par défaut à un paramètre si aucun argument n'est fourni.</p>
    <pre><code class="language-js">
function saluer(nom = "visiteur") {
  console.log(`Bonjour, ${nom} !`);
}

saluer(); // Affiche "Bonjour, visiteur !"
    </code></pre>

    <h2>3. La Valeur de Retour (return)</h2>
    <p>Une fonction peut renvoyer une valeur à l'aide du mot-clé <code>return</code>. L'exécution de la fonction s'arrête dès que <code>return</code> est rencontré.</p>
    <pre><code class="language-js">
function addition(a, b) {
  return a + b;
}

const resultat = addition(5, 3);
console.log(resultat); // Affiche 8
    </code></pre>

    <h2>4. Expressions de Fonction et Fonctions Fléchées</h2>
    <h3>Expression de Fonction</h3>
    <p>Vous pouvez aussi assigner une fonction à une variable. On parle alors d'expression de fonction (ou fonction anonyme).</p>
    <pre><code class="language-js">
const salutation = function() {
  console.log("Salut !");
};

salutation();
    </code></pre>
    <h3>Fonctions Fléchées (ES6)</h3>
    <p>Les fonctions fléchées offrent une syntaxe plus courte et concise.</p>
    <pre><code class="language-js">
const multiplier = (a, b) => {
  return a * b;
};

// Si la fonction n'a qu'une seule instruction de retour, on peut l'écrire encore plus court :
const multiplierSimple = (a, b) => a * b;
    </code></pre>

    <h2>5. Portée des Variables (Scope)</h2>
    <p>La portée définit où une variable est accessible.</p>
    <ul>
      <li><strong>Portée globale :</strong> Variable déclarée en dehors de toute fonction.</li>
      <li><strong>Portée de fonction :</strong> Variable déclarée avec <code>var</code> à l'intérieur d'une fonction.</li>
      <li><strong>Portée de bloc :</strong> Variable déclarée avec <code>let</code> ou <code>const</code> à l'intérieur d'un bloc <code>{...}</code> (ex: dans un <code>if</code> ou une boucle).</li>
    </ul>

    <h2>6. Fonctions Callback</h2>
    <p>En JavaScript, une fonction peut être passée en argument à une autre fonction. C'est ce qu'on appelle une fonction "callback". C'est un concept très puissant utilisé pour la programmation asynchrone.</p>
    <pre><code class="language-js">
function operation(a, b, callback) {
  return callback(a, b);
}

// On utilise la fonction 'addition' comme callback
const resultatAddition = operation(10, 5, addition);
console.log(resultatAddition); // Affiche 15

// On peut aussi utiliser une fonction anonyme
const resultatSoustraction = operation(10, 5, function(x, y) {
  return x - y;
});
console.log(resultatSoustraction); // Affiche 5
    </code></pre>
  </article>

  <article class="exercices">
    <h2>Exercices Pratiques</h2>
    <ol>
      <li>Écrivez une fonction fléchée nommée <code>calculerAge</code> qui prend une année de naissance en paramètre et retourne l'âge de la personne.</li>
      <li>Créez une fonction <code>filtrerNombresPairs</code> qui prend un tableau de nombres et une fonction callback. La fonction doit appliquer le callback à chaque nombre pair du tableau.</li>
    </ol>
    <details>
      <summary>Corrigés</summary>
      <pre><code class="language-js">
// Exercice 1
const calculerAge = (anneeNaissance) => {
  const anneeActuelle = new Date().getFullYear();
  return anneeActuelle - anneeNaissance;
};

console.log(calculerAge(1990)); // Affiche 34 (en 2024)

// Exercice 2
function filtrerNombresPairs(nombres, callback) {
  for (const nombre of nombres) {
    if (nombre % 2 === 0) {
      callback(nombre);
    }
  }
}

const monTableau = [1, 2, 3, 4, 5, 6];

filtrerNombresPairs(monTableau, (nombrePair) => {
  console.log(`${nombrePair} est un nombre pair.`);
});
      </code></pre>
    </details>
  </article>

  <aside class="ressources">
    <h2>Pour aller plus loin</h2>
    <ul>
      <li><a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Guide/Fonctions" target="_blank">MDN - Les fonctions JavaScript</a></li>
      <li><a href="https://javascript.info/function-basics" target="_blank">JavaScript.info - Functions (en anglais)</a></li>
      <li><a href="http://callbackhell.com/" target="_blank">Callback Hell</a> - Une explication de ce qu'il faut éviter avec les callbacks.</li>
    </ul>
  </aside>
</section>